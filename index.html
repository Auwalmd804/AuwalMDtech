<script>
var firebaseConfig = {
apiKey: "AIzaSyCKg3APPgfsx94I3HDMNFgr-ySpKnbVmIg",
authDomain: "auwalmdtech.firebaseapp.com",
projectId: "auwalmdtech",
storageBucket: "auwalmdtech.firebasestorage.app",
messagingSenderId: "202329584080",
appId: "1:202329584080:android:33b8aa59e2267dd04609d5"
};

firebase.initializeApp(firebaseConfig);
var auth = firebase.auth();

/* CHECK IF USER IS LOGGED IN */
auth.onAuthStateChanged(function(user){
    if(user){
        window.location.href="dashboard.html";
    }
});

/* REGISTER */
function register(){
    let email=document.getElementById("email").value;
    let password=document.getElementById("password").value;

    document.getElementById("loader").style.display="block";

    auth.createUserWithEmailAndPassword(email,password)
    .then(()=>{
        showMessage("Register Success ✅");
    })
    .catch(error=>{
        alert(error.message);
    })
    .finally(()=>{
        document.getElementById("loader").style.display="none";
    });
}

/* LOGIN */
function login(){
    let email=document.getElementById("email").value;
    let password=document.getElementById("password").value;

    document.getElementById("loader").style.display="block";

    auth.signInWithEmailAndPassword(email,password)
    .then(()=>{
        showMessage("Login Success ✅");
    })
    .catch(error=>{
        alert("You must register first!");
    })
    .finally(()=>{
        document.getElementById("loader").style.display="none";
    });
}

/* SUCCESS MESSAGE */
function showMessage(msg){
    let box=document.getElementById("successBox");
    box.innerHTML=msg;
    box.style.display="block";

    setTimeout(()=>{
        box.style.display="none";
    },3000);
}
</script>
